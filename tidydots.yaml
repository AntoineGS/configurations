version: 3
manager_priority:
  - pacman
  - yay
  - paru
  - apt
  - brew
  - winget
applications:
  - package:
      managers:
        installer:
          command:
            linux: curl -fsSL https://claude.ai/install.sh | bash
            windows: irm https://claude.ai/install.ps1 | iex
          binary: claude
    name: claude code
    description: AI assistant CLI
    entries:
      - targets:
          linux: ~/.claude/skills
          windows: ~/.claude/skills
        name: skills
        backup: ./Both/ClaudeCode/skills
      - targets:
          linux: ~/.claude/hooks
          windows: ~/.claude/hooks
        name: hooks
        backup: ./Both/ClaudeCode/hooks
      - targets:
          linux: ~/.claude/rules
          windows: ~/.claude/rules
        name: rules
        backup: ./Both/ClaudeCode/rules
      - targets:
          linux: ~/.claude/plugins
          windows: ~/.claude/plugins
        name: plugins
        backup: ./Both/ClaudeCode/plugins
      - targets:
          linux: ~/.claude
          windows: ~/.claude
        name: configs
        backup: ./Both/ClaudeCode
        files:
          - CLAUDE.md
          - settings.json
  - package:
      managers:
        apt: neovim
        brew: neovim
        pacman: neovim
        winget: Neovim.Neovim
    name: neovim
    description: Vim-fork focused on extensibility and usability
    entries:
      - targets:
          linux: ~/.config/nvim
          windows: ~/AppData/Local/nvim
        name: config
        backup: ./Both/Neovim/nvim
  - package:
      managers:
        brew: starship
        pacman: starship
        winget: Starship.Starship
    name: starship
    description: Cross-shell prompt
    entries:
      - targets:
          linux: ~/.config
          windows: ~/.config
        name: config
        backup: ./Both/Starship
        files:
          - starship.toml
      - targets:
          linux: ~/.cache/starship
          windows: ~/.cache/starship
        name: cache
        backup: ./Both/Starship
        files:
          - init.nu
  - package:
      managers:
        brew: nushell
        pacman: nushell
        winget: Nushell.Nushell
    name: nushell
    description: A new type of shell
    when: '{{ eq .Os "windows" }}'
    entries:
      - targets:
          linux: ~/.config/nushell
          windows: ~/AppData/Roaming/nushell
        name: config
        backup: ./Both/Nushell
        files:
          - env.nu
          - config.nu
      - targets:
          linux: ~/.config/nushell/themes
          windows: ~/AppData/Roaming/nushell/themes
        name: themes
        backup: ./Both/Nushell/themes
  - package:
      managers:
        brew: wezterm
        pacman: wezterm
        winget: wez.wezterm
    name: wezterm
    description: GPU-accelerated terminal emulator
    when: "{{ false }}"
    entries:
      - targets:
          linux: "~"
          windows: "~"
        name: config
        backup: ./Both/Wezterm
        files:
          - .wezterm.lua
  - package:
      managers:
        apt: zoxide
        brew: zoxide
        pacman: zoxide
        winget: ajeetdsouza.zoxide
    name: zoxide
    description: Smarter cd command
    entries:
      - targets:
          linux: "~"
          windows: "~"
        name: config
        backup: ./Both/Zoxide
        files:
          - .zoxide.nu
  - package:
      managers:
        brew: carapace
        winget: rsteube.Carapace
        yay: carapace
    name: carapace
    entries:
      - targets:
          linux: ~/.cache/carapace
          windows: ~/.cache/carapace
        name: config
        backup: ./Both/Carapace
        files:
          - init.nu
  - package:
      managers:
        brew: yazi
        pacman: yazi
        winget:
          deps:
            - 7zip.7zip
            - jqlang.jq
            - sharkdp.fd
            - burntsushi.ripgrep.msvc
            - junegunn.fzf
            - ajeetdsouza.zoxide
            - imagemagick.imagemagick
          name: sxyazi.yazi
    name: yazi
    description: Terminal file manager
    entries:
      - targets:
          linux: ~/.config/yazi
          windows: ~/AppData/Roaming/yazi/config
        name: config
        backup: ./Both/Yazi
  - package:
      managers:
        brew: posting
        installer:
          command:
            windows: uv tool install --python 3.13 posting
          binary: posting
        yay: posting
    name: posting
    entries:
      - targets:
          linux: ~/.config/posting
        name: config
        backup: ./Both/posting
  - name: xcompose
    when: '{{ and .HasDisplay (eq .OS "linux") (not .IsWSL) }}'
    entries:
      - targets:
          linux: "~"
          windows: "~"
        name: config
        backup: ./Linux/Xcompose
        files:
          - .Xcompose
  - name: ideavim
    entries:
      - targets:
          windows: "~"
        name: config
        backup: ./Both/IntelliJ
        files:
          - .ideavimrc
  - name: vscode
    when: "{{ false }}"
    entries:
      - targets:
          windows: ~/AppData/Roaming/Code/User
        name: config
        backup: ./Both/VSCode/User
        files:
          - settings.json
          - keybindings.json
  - name: glazewm
    when: '{{ eq .OS "windows" }}'
    entries:
      - targets:
          windows: ~/.glzr/glazewm
        name: config
        backup: ./Both/GlazeWM
        files:
          - config.yaml
  - name: powershell
    when: '{{ eq .OS "windows" }}'
    entries:
      - targets:
          windows: "~"
        name: config
        backup: ./Windows/PowerShell
  - name: komorebi
    when: '{{ eq .OS "windows" }}'
    entries:
      - targets:
          windows: "~"
        name: config
        backup: ./Windows/Komorebi
        files:
          - komorebi.json
  - name: whkd
    when: '{{ eq .OS "windows" }}'
    entries:
      - targets:
          windows: ~/.config
        name: config
        backup: ./Windows/Komorebi
        files:
          - whkdrc
  - package:
      managers:
        winget: AmN.yasb
    name: yasb reborn
    when: '{{ eq .OS "windows" }}'
    entries:
      - targets:
          windows: ~/.config/yasb
        name: config
        backup: ./Windows/Yasb
        files:
          - config.yaml
          - styles.css
  - name: windows-terminal
    when: '{{ eq .OS "linux" }}'
    entries:
      - targets:
          windows: ~/AppData/Local/Packages/Microsoft.WindowsTerminal_8wekyb3d8bbwe/LocalState
        name: config
        backup: ./Windows/WindowsTerminal
        files:
          - settings.json
  - name: total-commander
    when: '{{ eq .OS "windows" }}'
    entries:
      - targets:
          windows: ~/AppData/Roaming/GHISLER
        name: config
        backup: ./Windows/TotalCommander
        files:
          - wincmd.ini
      - targets:
          windows: ~/AppData/Roaming/Everything
        name: everything
        backup: ./Windows/TotalCommander
        files:
          - Everything-1.5a.ini
  - name: bash
    entries:
      - targets:
          linux: "~"
        name: config
        backup: ./Linux/Bash
        files:
          - .bashrc
  - package:
      managers:
        apt: zsh
        brew: zsh
        pacman: zsh
    name: zsh
    entries:
      - targets:
          linux: /home/antoinegs/
        name: config
        backup: ./Linux/zsh
        files:
          - .zshenv
          - .zshrc
  - package:
      managers:
        apt: tmux
        brew: tmux
        pacman: tmux
    name: tmux
    when: '{{ eq .OS "linux" }}'
    entries:
      - targets:
          linux: "~"
        name: config
        backup: ./Linux/tmux
        files:
          - .tmux.conf
  - package:
      managers:
        pacman: hyprland
    name: hyprland
    description: Dynamic tiling Wayland compositor
    when: '{{ and .HasDisplay (eq .OS "linux") (not .IsWSL) }}'
    entries:
      - targets:
          linux: ~/.config/hypr
        name: config
        backup: ./Linux/hypr
      - targets:
          linux: ~/.config/systemd/user
        name: rustdesk-service
        backup: ./Linux/hypr
        files:
          - watch-rustdesk-submap.service
  - package:
      managers:
        pacman: waybar
        yay:
          deps:
            - waybar-ai-usage-go
    name: waybar
    when: '{{ and .HasDisplay (eq .OS "linux") (not .IsWSL) }}'
    entries:
      - targets:
          linux: ~/.config/waybar
        name: config
        backup: ./Linux/waybar
  - package:
      managers:
        yay: walker
    name: walker
    description: Application launcher for Wayland
    when: '{{ and .HasDisplay (eq .OS "linux") (not .IsWSL) }}'
    entries:
      - targets:
          linux: ~/.config/walker
        name: config
        backup: ./Linux/walker
  - package:
      managers:
        yay: elephant
    name: elephant
    when: '{{ and .HasDisplay (eq .OS "linux") (not .IsWSL) }}'
    entries:
      - targets:
          linux: ~/.config/elephant
        name: config
        backup: ./Linux/elephant
  - name: uwsm
    when: '{{ and .HasDisplay (eq .OS "linux") (not .IsWSL) }}'
    entries:
      - targets:
          linux: ~/.config/uwsm/default
        name: config
        backup: ./Linux/uwsm/default
  - name: qmk
    when: '{{ eq .Hostname "DESKTOP-E07VTRN" }}'
    entries:
      - targets:
          linux: ~/.config/qmk
        name: config
        backup: ./Linux/qmk
      - targets:
          linux: ~/qmk_firmware/keyboards/beekeeb/piantor_pro/keymaps/AntoineGS
        name: piantor
        backup: ./Linux/QMK/piantor_pro/AntoineGS
      - targets:
          linux: ~/qmk_firmware/keyboards/ploopyco/trackball_nano/keymaps/AntoineGS
        name: trackball
        backup: ./Linux/QMK/trackball_nano/AntoineGS
      - targets:
          linux: ~/qmk_firmware/keyboards/sofle_choc/keymaps/AntoineGS
        name: sofle
        backup: ./Linux/QMK/sofle_choc/AntoineGS
  - name: warp
    when: "{{ false }}"
    entries:
      - targets:
          linux: ~/.config/warp-terminal
        name: config
        backup: ./Linux/Warp
        files:
          - user_preferences.json
  - package:
      managers:
        apt: teams-for-linux
        brew: teams-for-linux
        pacman: teams-for-linux
        yay: teams-for-linux-electron-bin
    name: teams-for-linux
    when: '{{ and .HasDisplay (eq .OS "linux") (not .IsWSL) }}'
    entries:
      - targets:
          linux: ~/.config/teams-for-linux
        name: config
        backup: ./Linux/teams-for-linux
        files:
          - config.json
  - package:
      managers:
        apt: fzf
        brew: fzf
        pacman: fzf
        winget: junegunn.fzf
    name: fzf
    description: Command-line fuzzy finder
    entries:
      - targets:
          linux: ~/.config/fzf
        name: config
        backup: ./Linux/fzf
  - package:
      managers:
        pacman: ghostty
    name: ghostty
    when: '{{ and .HasDisplay (eq .OS "linux") (not .IsWSL) }}'
    entries:
      - targets:
          linux: ~/.config/ghostty
        name: config
        backup: ./Linux/ghostty
  - package:
      managers:
        yay: python-lnxlink
    name: lnxlink
    when: '{{ eq .Hostname "DESKTOP-E07VTRN" }}'
    entries:
      - targets:
          linux: ~/.config/lnxlink
        name: conf
        backup: ./Linux/lnxlink
        files:
          - config.yaml
  - name: modprobe
    when: '{{ eq .Hostname "omarchbook" }}'
    entries:
      - targets:
          linux: /etc/modprobe.d
        name: config
        backup: ./Linux/modprobe
        files:
          - blacklist-raydium.conf
        sudo: true
  - name: mimeapps
    when: '{{ eq .OS "linux" }}'
    entries:
      - targets:
          linux: ~/.config
        name: config
        backup: ./Linux/os
        files:
          - mimeapps.list
  - name: pacman-hooks
    when: '{{ eq .OS "linux" }}'
    entries:
      - targets:
          linux: /usr/share/libalpm/hooks
        name: hooks
        backup: ./Linux/pacman
        files:
          - pkg-backup-aur.hook
          - pkg-backup-pacman.hook
        sudo: true
  - name: ssh-agent
    description: SSH agent with 4-hour key lifetime (replaces 1Password agent)
    when: '{{ eq .OS "linux" }}'
    entries:
      - targets:
          linux: ~/.config/systemd/user/ssh-agent.service.d
        name: systemd-override
        backup: ./Linux/ssh-agent/ssh-agent.service.d
      - targets:
          linux: ~/.config/environment.d
        name: environment
        backup: ./Linux/ssh-agent
        files:
          - ssh-agent.conf
      - targets:
          linux: ~/.ssh
        name: ssh-config
        backup: ./Linux/ssh-agent
        files:
          - config
  - name: systemd-units
    when: '{{ eq .OS "linux" }}'
    entries:
      - targets:
          linux: /etc/systemd/system
        name: units
        backup: ./Linux/systemd
        files:
          - units-backup.service
          - units-backup.timer
        sudo: true
  - package:
      managers:
        git:
          url: https://github.com/ohmyzsh/ohmyzsh.git
          targets:
            linux: /usr/share/oh-my-zsh
          sudo: true
        yay: oh-my-zsh-git
    name: oh-my-zsh
    description: Zsh framework (skip on Arch - use oh-my-zsh-git)
    when: '{{ eq .OS "linux" }}'
    entries: []
  - package:
      managers:
        git:
          url: https://github.com/jeffreytse/zsh-vi-mode.git
          targets:
            linux: /usr/share/zsh/plugins/zsh-vi-mode
          sudo: true
        yay: zsh-vi-mode
    name: zsh-vi-mode
    description: Zsh vi mode plugin (skip on Arch - use zsh-vi-mode)
    when: '{{ eq .OS "linux" }}'
    entries: []
  - package:
      managers:
        git:
          url: https://github.com/zsh-users/zsh-autosuggestions.git
          targets:
            linux: /usr/share/zsh/plugins/zsh-autosuggestions
          sudo: true
        yay: zsh-autosuggestions
    name: zsh-autosuggestions
    description: Zsh autosuggestions plugin (skip on Arch - use zsh-autosuggestions)
    when: '{{ eq .OS "linux" }}'
    entries: []
  - package:
      managers:
        git:
          url: https://github.com/lincheney/fzf-tab-completion.git
          targets:
            linux: /usr/share/fzf-tab-completion
          sudo: true
        yay: fzf-tab-completion-git
    name: fzf-tab-completion
    description: Fzf tab completion for various shells
    entries: []
  - package:
      managers:
        git:
          url: https://github.com/olets/zsh-transient-prompt.git
          targets:
            linux: /usr/share/zsh/plugins/zsh-transient-prompt
          sudo: true
        yay: zsh-transient-prompt-git
    name: zsh-transient-prompt
    description: Zsh transient prompt plugin
    when: '{{ eq .OS "linux" }}'
    entries: []
  - package:
      managers:
        git:
          url: https://github.com/antoinegs/tpm.git
          targets:
            linux: /usr/share/tmux-plugin-manager
          sudo: true
        yay: tmux-plugin-manager
    name: tmux-plugin-manager
    description: Tmux plugin manager (skip on Arch - use tmux-plugin-manager)
    when: '{{ eq .OS "linux" }}'
    entries: []
  - package:
      managers:
        apt: ripgrep
        brew: ripgrep
        pacman: ripgrep
        winget: BurntSushi.ripgrep.MSVC
    name: ripgrep
    description: Fast grep alternative
    entries: []
  - package:
      managers:
        apt: fd-find
        brew: fd
        pacman: fd
        winget: sharkdp.fd
    name: fd
    description: Fast find alternative
    entries: []
  - package:
      managers:
        brew: lazygit
        pacman: lazygit
        winget: JesseDuffield.lazygit
    name: lazygit
    description: Terminal UI for git
    entries: []
  - package:
      managers:
        apt: gh
        brew: gh
        pacman: github-cli
        winget: GitHub.cli
    name: gh
    description: GitHub CLI
    entries: []
  - package:
      managers:
        installer:
          command:
            linux: curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
          binary: rustup
        pacman: rustup
        winget: Rustlang.Rustup
    name: rustup
    description: Rust toolchain installer
    entries: []
  - package:
      managers:
        installer:
          command:
            windows: cargo install eza
          binary: eza
        pacman: eza
    name: eza
    entries: []
  - package:
      managers:
        apt: golang
        pacman: go
        winget: GoLang.Go
    name: go
    entries: []
  - package:
      managers:
        pacman: nodejs
        winget: OpenJS.NodeJS
    name: nodejs
    entries: []
  - package:
      managers:
        apt: python3
        pacman: python
        winget: Python.Python.3.14
    name: python
    entries: []
  - package:
      managers:
        winget: Microsoft.OpenJDF.21
    name: java
    when: '{{ eq .Os "windows" }}'
    entries: []
  - package:
      managers:
        winget: GolangCI.golangci-lint
        yay: golangci-lint-bin
    name: golangci-lint
    entries: []
  - package:
      managers:
        yay: vicinae-bin
    name: vicinae
    entries: []
  - package:
      managers:
        yay: insync
    name: insync
    when: '{{ eq .OS "linux" }}'
    entries: []
  - package:
      managers:
        yay: brave-bin
    name: brave
    entries: []
  - package:
      managers:
        pacman: signal-desktop
    name: signal
    entries: []
  - package:
      managers:
        pacman: btop
        winget: aristocratos.btop4win
    name: btop
    entries: []
  - package:
      managers:
        winget: gsudo
    name: gsudo
    when: '{{ eq .OS "windows" }}'
        pacman: gopls
    name: gopls
    when: '{{ eq .OS "linux" }}'
    entries: []
